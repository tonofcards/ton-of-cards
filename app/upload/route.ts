import { NextRequest, NextResponse } from 'next/server';import { uploadImage } from '../lib/blob';export const dynamic='force-dynamic';export async function POST(req:NextRequest){const contentType=req.headers.get('content-type')||'';if(!contentType.includes('multipart/form-data')){return NextResponse.json({error:'Expected multipart form data'},{status:400});}const formData=await req.formData();const result=await uploadImage(formData as any);if('error'in result)return NextResponse.json(result,{status:400});return NextResponse.json(result);}export const runtime='nodejs';export const preferredRegion='iad1';